
DROP TABLE IF EXISTS CHECKING;
DROP TABLE IF EXISTS SAVINGS;
DROP TABLE IF EXISTS ACCOUNTS;

CREATE TABLE ACCOUNTS (
    custid      BIGINT      NOT NULL,
    name        VARCHAR(64) NOT NULL,
    PRIMARY KEY (custid)
);

CREATE TABLE SAVINGS (
    custid      BIGINT      NOT NULL,
    bal         DOUBLE      NOT NULL,
    PRIMARY KEY (custid)
);

CREATE TABLE CHECKING (
    custid      BIGINT      NOT NULL,
    bal         DOUBLE      NOT NULL,
    PRIMARY KEY (custid)
);

ALTER TABLE SAVINGS  ADD CONSTRAINT S_FKEY_A FOREIGN KEY (custid) REFERENCES ACCOUNTS (custid) ON DELETE CASCADE;
ALTER TABLE CHECKING ADD CONSTRAINT C_FKEY_A FOREIGN KEY (custid) REFERENCES ACCOUNTS (custid) ON DELETE CASCADE;

CREATE INDEX IDX_ACCOUNTS_NAME ON ACCOUNTS (name);
